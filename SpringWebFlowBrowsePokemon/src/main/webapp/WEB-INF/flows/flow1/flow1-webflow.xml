<?xml version="1.0" encoding="UTF-8"?>
<flow
    xmlns="http://www.springframework.org/schema/webflow"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/webflow http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd"
    start-state="start">
    
    <var name="pokemon" class="org.theproject.browsepokemon.PokemonFormBean"/>
    
    <!--Note that the start-state is specified using an attribute 
        of the <flow> element above. -->
        
        <!--A view state is a step of the flow that renders a view. This 
        state displays the startView and configures the two available transitions 
        from the startView:
        - On receiving the toSecond event, transition to the "second" 
        state.
        - On receiving the toThird event, transition to the "third" state. -->
    <view-state id="start" view="chooseGenerations">
        <on-entry>
            <set name="flowScope.pokemon.pokemonGenerationNames" 
                value="pokedexService.getPokemonGenerationNames()"/>
        </on-entry>
        <transition on="toSecond" to="second" />
        <transition on="toThird" to="third" />
    </view-state>
    <!--Similar to the above view state, but for the secondView. -->
    <view-state id="second" view="secondView">
        <transition on="toStart" to="start" />
        <transition on="toThird" to="third" />
    </view-state>
    <!--The final state of the flow in which an outcome of the 
        flow can be defined.  A flow may have multiple <end-state> elements. -->
    <end-state id="third" view="thirdView" />
</flow>